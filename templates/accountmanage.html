{% extends 'base.html' %}

{% block title %} <title>TSAO Capstone Records System</title>{% endblock %}

{% block body %}
<div class="header">
    <div class="title">TSAO Capstone Records System</div>
</div>
<main class="content">
    <h2 class="ac-header">Account Management</h2>
    <table class="ac-table">
        <thead>
            <tr class="ac-table-header">
                <th>User</th>
                <th>Password</th>
                <th>Role</th>
                <th>Creation Date</th>
                <th>Status</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for acc in accounts %}
            <tr class="ac-table-row">
                <td>{{ acc[1] }}</td>
                <td>{{ acc[2] }}</td>
                <td>{{ acc[4] }}</td>
                <td>{{ acc[3].strftime('%m-%d-%Y') }}</td>
                <td>{{ acc[5] }}</td>
                <td class="ac-actions">
                    <a href="{{ url_for('account.accountDetails', acc_id=acc[0]) }}" class="ac-link">Edit</a> |
                    <a href="{{ url_for('account.deleteAccount', acc_id=acc[0]) }}" method="POST" class="ac-link">Delete</a> 
                    {% if acc[5] == 'Approved' %}
                    |
                    <a href="{{ url_for('account.approveAccount', acc_id=acc[0]) }}" method="POST" style="visibility: hidden;" class="ac-link">Approve</a>
                    {% else %}
                    <a href="{{ url_for('account.approveAccount', acc_id=acc[0]) }}" method="POST" class="ac-link">Approve</a>
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <div class="btns-group">
        <a class="btn returnBtn" href="/dashboard">Return</a>
    </div>
    {% else %}
    <p class="no-acc-msg">No accounts found.</p>
    <div class="btns-group">
        <a class="btn returnBtn" href="/dashboard">Return</a>
    </div>
    {% endif %}    
</main>
{% endblock %}
